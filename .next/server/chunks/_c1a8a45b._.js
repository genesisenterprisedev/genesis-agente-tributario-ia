module.exports=[98426,e=>{"use strict";var r=e.i(22260),t=e.i(47540),n=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=(e,r,t)=>r in e?n(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,c=t.forwardRef((e,t)=>{var{children:n,lang:c="en",dir:p="ltr"}=e,u=((e,r)=>{var t={};for(var n in e)l.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&i)for(var n of i(e))0>r.indexOf(n)&&s.call(e,n)&&(t[n]=e[n]);return t})(e,["children","lang","dir"]);return(0,r.jsx)("html",a(((e,r)=>{for(var t in r||(r={}))l.call(r,t)&&d(e,t,r[t]);if(i)for(var t of i(r))s.call(r,t)&&d(e,t,r[t]);return e})({},u),o({dir:p,lang:c,ref:t,children:n})))});c.displayName="Html";var p=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,b=(e,r,t)=>r in e?p(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,y=t.forwardRef((e,t)=>{var{children:n}=e,a=((e,r)=>{var t={};for(var n in e)g.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&m)for(var n of m(e))0>r.indexOf(n)&&h.call(e,n)&&(t[n]=e[n]);return t})(e,["children"]);return(0,r.jsxs)("head",u(((e,r)=>{for(var t in r||(r={}))g.call(r,t)&&b(e,t,r[t]);if(m)for(var t of m(r))h.call(r,t)&&b(e,t,r[t]);return e})({},a),f({ref:t,children:[(0,r.jsx)("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),(0,r.jsx)("meta",{name:"x-apple-disable-message-reformatting"}),n]})))});y.displayName="Head";let x=["margin","marginTop","marginBottom","marginRight","marginLeft","marginInline","marginBlock","marginBlockStart","marginBlockEnd","marginInlineStart","marginInlineEnd"],v=t.forwardRef(({children:e,style:t,...n},a)=>{let o={background:t?.background,backgroundColor:t?.backgroundColor};if(t)for(let e of x)o[e]=void 0!==t[e]?0:void 0;return(0,r.jsx)("body",{...n,style:o,ref:a,children:(0,r.jsx)("table",{border:0,width:"100%",cellPadding:"0",cellSpacing:"0",role:"presentation",align:"center",children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{style:t,children:e})})})})})});v.displayName="Body";var O=Object.defineProperty,R=Object.defineProperties,j=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,T=(e,r,t)=>r in e?O(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,S=(e,r)=>{for(var t in r||(r={}))P.call(r,t)&&T(e,t,r[t]);if(w)for(var t of w(r))E.call(r,t)&&T(e,t,r[t]);return e},C=t.forwardRef((e,t)=>{var{children:n,style:a}=e,o=((e,r)=>{var t={};for(var n in e)P.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&w)for(var n of w(e))0>r.indexOf(n)&&E.call(e,n)&&(t[n]=e[n]);return t})(e,["children","style"]);return(0,r.jsx)("table",R(S({align:"center",width:"100%"},o),j({border:0,cellPadding:"0",cellSpacing:"0",ref:t,role:"presentation",style:S({maxWidth:"37.5em"},a),children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{style:{width:"100%"},children:(0,r.jsx)("td",{children:n})})})})))});C.displayName="Container";var N=Object.defineProperty,A=Object.defineProperties,B=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,D=(e,r,t)=>r in e?N(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,_=t.forwardRef((e,t)=>{var{children:n,style:a}=e,o=((e,r)=>{var t={};for(var n in e)k.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&I)for(var n of I(e))0>r.indexOf(n)&&H.call(e,n)&&(t[n]=e[n]);return t})(e,["children","style"]);return(0,r.jsx)("table",A(((e,r)=>{for(var t in r||(r={}))k.call(r,t)&&D(e,t,r[t]);if(I)for(var t of I(r))H.call(r,t)&&D(e,t,r[t]);return e})({align:"center",width:"100%",border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"},o),B({ref:t,style:a,children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:n})})})})))});_.displayName="Section";var U=Object.defineProperty,L=Object.defineProperties,M=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,K=(e,r,t)=>r in e?U(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,z=(e,r)=>{for(var t in r||(r={}))F.call(r,t)&&K(e,t,r[t]);if(q)for(var t of q(r))$.call(r,t)&&K(e,t,r[t]);return e},G=t.forwardRef((e,t)=>{var{style:n}=e,a=((e,r)=>{var t={};for(var n in e)F.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&q)for(var n of q(e))0>r.indexOf(n)&&$.call(e,n)&&(t[n]=e[n]);return t})(e,["style"]);let o={};(null==n?void 0:n.marginTop)===void 0&&(o.marginTop="16px"),(null==n?void 0:n.marginBottom)===void 0&&(o.marginBottom="16px");let i=function(e){let r={marginTop:void 0,marginRight:void 0,marginBottom:void 0,marginLeft:void 0};for(let[t,n]of Object.entries(e))"margin"===t?r=function(e){if("number"==typeof e)return{marginTop:e,marginBottom:e,marginLeft:e,marginRight:e};if("string"==typeof e){let r=e.toString().trim().split(/\s+/);if(1===r.length)return{marginTop:r[0],marginBottom:r[0],marginLeft:r[0],marginRight:r[0]};if(2===r.length)return{marginTop:r[0],marginRight:r[1],marginBottom:r[0],marginLeft:r[1]};if(3===r.length)return{marginTop:r[0],marginRight:r[1],marginBottom:r[2],marginLeft:r[1]};if(4===r.length)return{marginTop:r[0],marginRight:r[1],marginBottom:r[2],marginLeft:r[3]}}return{marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0}}(n):"marginTop"===t?r.marginTop=n:"marginRight"===t?r.marginRight=n:"marginBottom"===t?r.marginBottom=n:"marginLeft"===t&&(r.marginLeft=n);return r}(z(z({},o),n));return(0,r.jsx)("p",L(z({},a),M({ref:t,style:z(z({fontSize:"14px",lineHeight:"24px"},n),i)})))});G.displayName="Text";var W=Object.defineProperty,V=Object.defineProperties,X=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,Y=(e,r,t)=>r in e?W(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ee=(e,r)=>{for(var t in r||(r={}))Z.call(r,t)&&Y(e,t,r[t]);if(J)for(var t of J(r))Q.call(r,t)&&Y(e,t,r[t]);return e},er=(e,r)=>r.reduce((r,t)=>{if(!isNaN(parseFloat(e)))return V(ee({},r),X({[t]:`${e}px`}));return r},{}),et=t.forwardRef((e,t)=>{let n,a;var o,{as:i="h1",children:l,style:s,m:d,mx:c,my:p,mt:u,mr:f,mb:m,ml:g}=e,h=((e,r)=>{var t={};for(var n in e)Z.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&J)for(var n of J(e))0>r.indexOf(n)&&Q.call(e,n)&&(t[n]=e[n]);return t})(e,["as","children","style","m","mx","my","mt","mr","mb","ml"]);return(0,r.jsx)(i,(n=ee({},h),a={ref:t,style:ee(ee({},[er((o={m:d,mx:c,my:p,mt:u,mr:f,mb:m,ml:g}).m,["margin"]),er(o.mx,["marginLeft","marginRight"]),er(o.my,["marginTop","marginBottom"]),er(o.mt,["marginTop"]),er(o.mr,["marginRight"]),er(o.mb,["marginBottom"]),er(o.ml,["marginLeft"])].filter(e=>Object.keys(e).length).reduce((e,r)=>ee(ee({},e),r),{})),s),children:l},V(n,X(a))))});et.displayName="Heading";var en=Object.defineProperty,ea=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,ei=Object.getOwnPropertySymbols,el=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable,ed=(e,r,t)=>r in e?en(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ec=(e,r)=>{for(var t in r||(r={}))el.call(r,t)&&ed(e,t,r[t]);if(ei)for(var t of ei(r))es.call(r,t)&&ed(e,t,r[t]);return e},ep=t.forwardRef((e,t)=>{var{style:n}=e,a=((e,r)=>{var t={};for(var n in e)el.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&ei)for(var n of ei(e))0>r.indexOf(n)&&es.call(e,n)&&(t[n]=e[n]);return t})(e,["style"]);return(0,r.jsx)("hr",ea(ec({},a),eo({ref:t,style:ec({width:"100%",border:"none",borderTop:"1px solid #eaeaea"},n)})))});ep.displayName="Hr";let eu={backgroundColor:"#f6f9fc",fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Ubuntu,sans-serif'},ef={backgroundColor:"#ffffff",margin:"0 auto",padding:"20px 0 48px",marginBottom:"64px"},em={color:"#1a1a1a",fontSize:"24px",fontWeight:"bold",margin:"40px 0",padding:"0 40px"},eg={color:"#666666",fontSize:"14px",margin:"0 0 20px",padding:"0 40px"},eh={borderColor:"#e6ebf1",margin:"20px 0"},eb={padding:"0 40px"},ey={backgroundColor:"#eef2ff",borderLeft:"4px solid #4f46e5",borderRadius:"8px",padding:"16px",marginBottom:"16px"},ex={backgroundColor:"#f9f9f9",borderLeft:"4px solid #666666",borderRadius:"8px",padding:"16px",marginBottom:"16px"},ev={color:"#1a1a1a",fontSize:"14px",fontWeight:"bold",margin:"0 0 8px"},eO={color:"#333333",fontSize:"14px",lineHeight:"1.6",margin:"0 0 8px",whiteSpace:"pre-wrap"},eR={color:"#888888",fontSize:"12px",margin:"0"},ej={color:"#aaaaaa",fontSize:"12px",textAlign:"center",marginTop:"32px",padding:"0 40px"};e.s(["EmailTemplate",0,({conversationTitle:e,messages:t,userName:n})=>(0,r.jsxs)(c,{children:[(0,r.jsx)(y,{}),(0,r.jsx)(v,{style:eu,children:(0,r.jsxs)(C,{style:ef,children:[(0,r.jsxs)(et,{style:em,children:["Hist√≥rico da Conversa: ",e]}),n&&(0,r.jsxs)(G,{style:eg,children:["Usu√°rio: ",n]}),(0,r.jsx)(ep,{style:eh}),(0,r.jsx)(_,{style:eb,children:t.map((e,t)=>(0,r.jsxs)(_,{style:"bot"===e.sender?ex:ey,children:[(0,r.jsx)(G,{style:ev,children:"bot"===e.sender?"ü§ñ Assistente":"üë§ Voc√™"}),(0,r.jsx)(G,{style:eO,children:e.text}),(0,r.jsx)(G,{style:eR,children:new Date(e.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},t))}),(0,r.jsx)(ep,{style:eh}),(0,r.jsx)(G,{style:ej,children:"Enviado via Genesis Agente Tribut√°rio IA"})]})})]})],98426)},42237,e=>e.a(async(r,t)=>{try{var n=e.i(89171),a=e.i(46245),o=e.i(1631),i=e.i(47540),l=e.i(98426),s=r([o]);[o]=s.then?(await s)():s;let c=new a.Resend("re_NwRkN5vD_2TWeTo4RhkbGcJUxKButxw3R");async function d(e){try{let{email:r,conversationTitle:t,messages:a,userName:s}=await e.json();if(!r||!a)return n.NextResponse.json({error:{message:"Email e mensagens s√£o obrigat√≥rios"}},{status:400});if(!Array.isArray(a)||0===a.length)return n.NextResponse.json({error:{message:"A conversa deve conter pelo menos uma mensagem"}},{status:400});let d=i.createElement(l.EmailTemplate,{conversationTitle:t||"Conversa",messages:a,userName:s}),p=await (0,o.render)(d),{data:u,error:f}=await c.emails.send({from:"Genesis AI <onboarding@resend.dev>",to:[r],subject:`Hist\xf3rico de Conversa: ${t||"Sem t√≠tulo"}`,html:p});if(f)return console.error("Resend API error:",f),n.NextResponse.json({error:{message:f.message||"Erro ao enviar email via Resend"}},{status:500});return n.NextResponse.json({success:!0,data:u})}catch(e){return console.error("Server error in send-email:",e),n.NextResponse.json({error:{message:e.message||"Erro interno do servidor"}},{status:500})}}e.s(["POST",()=>d]),t()}catch(e){t(e)}},!1),43206,e=>e.a(async(r,t)=>{try{var n=e.i(47909),a=e.i(74017),o=e.i(96250),i=e.i(59756),l=e.i(61916),s=e.i(14444),d=e.i(37092),c=e.i(69741),p=e.i(16795),u=e.i(87718),f=e.i(95169),m=e.i(47587),g=e.i(66012),h=e.i(70101),b=e.i(26937),y=e.i(10372),x=e.i(93695);e.i(52474);var v=e.i(5232),O=e.i(42237),R=r([O]);[O]=R.then?(await R)():R;let P=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/send-email/route",pathname:"/api/send-email",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/send-email/route.ts",nextConfigOutput:"",userland:O}),{workAsyncStorage:E,workUnitAsyncStorage:T,serverHooks:S}=P;function j(){return(0,o.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:T})}async function w(e,r,t){P.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let n="/api/send-email/route";n=n.replace(/\/index$/,"")||"/";let o=await P.prepare(e,r,{srcPage:n,multiZoneDraftMode:!1});if(!o)return r.statusCode=400,r.end("Bad Request"),null==t.waitUntil||t.waitUntil.call(t,Promise.resolve()),null;let{buildId:O,params:R,nextConfig:j,parsedUrl:w,isDraftMode:E,prerenderManifest:T,routerServerContext:S,isOnDemandRevalidate:C,revalidateOnlyGenerated:N,resolvedPathname:A,clientReferenceManifest:B,serverActionsManifest:I}=o,k=(0,c.normalizeAppPath)(n),H=!!(T.dynamicRoutes[k]||T.routes[A]),D=async()=>((null==S?void 0:S.render404)?await S.render404(e,r,w,!1):r.end("This page could not be found"),null);if(H&&!E){let e=!!T.routes[A],r=T.dynamicRoutes[k];if(r&&!1===r.fallback&&!e){if(j.experimental.adapterPath)return await D();throw new x.NoFallbackError}}let _=null;!H||P.isDev||E||(_=A,_="/index"===_?"/":_);let U=!0===P.isDev||!H,L=H&&!U;I&&B&&(0,s.setReferenceManifestsSingleton)({page:n,clientReferenceManifest:B,serverActionsManifest:I,serverModuleMap:(0,d.createServerModuleMap)({serverActionsManifest:I})});let M=e.method||"GET",q=(0,l.getTracer)(),F=q.getActiveScopeSpan(),$={params:R,prerenderManifest:T,renderOpts:{experimental:{authInterrupts:!!j.experimental.authInterrupts},cacheComponents:!!j.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:j.cacheLife,waitUntil:t.waitUntil,onClose:e=>{r.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(r,t,n)=>P.onRequestError(e,r,n,S)},sharedContext:{buildId:O}},K=new p.NodeNextRequest(e),z=new p.NodeNextResponse(r),G=u.NextRequestAdapter.fromNodeNextRequest(K,(0,u.signalFromNodeResponse)(r));try{let o=async e=>P.handle(G,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":r.statusCode,"next.rsc":!1});let t=q.getRootSpanAttributes();if(!t)return;if(t.get("next.span_type")!==f.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${t.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=t.get("next.route");if(a){let r=`${M} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":r}),e.updateName(r)}else e.updateName(`${M} ${n}`)}),s=!!(0,i.getRequestMeta)(e,"minimalMode"),d=async i=>{var l,d;let c=async({previousCacheEntry:a})=>{try{if(!s&&C&&N&&!a)return r.statusCode=404,r.setHeader("x-nextjs-cache","REVALIDATED"),r.end("This page could not be found"),null;let n=await o(i);e.fetchMetrics=$.renderOpts.fetchMetrics;let l=$.renderOpts.pendingWaitUntil;l&&t.waitUntil&&(t.waitUntil(l),l=void 0);let d=$.renderOpts.collectedTags;if(!H)return await (0,g.sendResponse)(K,z,n,$.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),r=(0,h.toNodeOutgoingHttpHeaders)(n.headers);d&&(r[y.NEXT_CACHE_TAGS_HEADER]=d),!r["content-type"]&&e.type&&(r["content-type"]=e.type);let t=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=y.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,a=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=y.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:r},cacheControl:{revalidate:t,expire:a}}}}catch(r){throw(null==a?void 0:a.isStale)&&await P.onRequestError(e,r,{routerKind:"App Router",routePath:n,routeType:"route",revalidateReason:(0,m.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:C})},S),r}},p=await P.handleResponse({req:e,nextConfig:j,cacheKey:_,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:C,revalidateOnlyGenerated:N,responseGenerator:c,waitUntil:t.waitUntil,isMinimalMode:s});if(!H)return null;if((null==p||null==(l=p.value)?void 0:l.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(d=p.value)?void 0:d.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||r.setHeader("x-nextjs-cache",C?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),E&&r.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,h.fromNodeOutgoingHttpHeaders)(p.value.headers);return s&&H||u.delete(y.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||r.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,b.getCacheControlHeader)(p.cacheControl)),await (0,g.sendResponse)(K,z,new Response(p.value.body,{headers:u,status:p.value.status||200})),null};F?await d(F):await q.withPropagatedContext(e.headers,()=>q.trace(f.BaseServerSpan.handleRequest,{spanName:`${M} ${n}`,kind:l.SpanKind.SERVER,attributes:{"http.method":M,"http.target":e.url}},d))}catch(r){if(r instanceof x.NoFallbackError||await P.onRequestError(e,r,{routerKind:"App Router",routePath:k,routeType:"route",revalidateReason:(0,m.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:C})}),H)throw r;return await (0,g.sendResponse)(K,z,new Response(null,{status:500})),null}}e.s(["handler",()=>w,"patchFetch",()=>j,"routeModule",()=>P,"serverHooks",()=>S,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>T]),t()}catch(e){t(e)}},!1)];

//# sourceMappingURL=_c1a8a45b._.js.map